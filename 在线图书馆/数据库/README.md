

## 用户信息表 TB_User

- ==用户编号类型：char->int，改为自增主键==

- ==用户密码长度：20->50，密码采用MD5加密==

|   字段名   |  类型   | 长度 | 是否为空 | 主键/外键 |       默认值       | 字段含义 |
| :--------: | :-----: | :--: | :------: | :-------: | :----------------: | :------: |
|  user_id   |   int   |  8   |          | 自增主键  |                    | 用户编号 |
| user_type  |   int   |  1   |          |           | 管理员1<br />用户0 | 用户类型 |
| user_name  |  char   |  50  |          |           |                    | 用户名称 |
|  user_pwd  |  char   |  50  |          |           |                    | 用户密码 |
|  user_per  |   int   |  1   |          |           | 会员1<br />非会员0 | 用户权限 |
|  user_img  | varchar | 100  |    是    |           |                    | 用户头像 |
| user_phone |  char   |  11  |          |           |                    | 用户手机 |



## 图书馆信息表 TB_Book

- ==图书编号类型：char->int，改为自增主键==

|    字段名    |   类型   |     长度     | 是否为空 | 主键/外键 | 默认值 | 字段含义 |
| :----------: | :------: | :----------: | :------: | :-------: | :----: | :------: |
|   book_id    |   int    |      6       |          | 自增主键  |        | 图书编号 |
|  book_type   |   char   |      1       |          |           |        | 图书类型 |
| book_author  |   char   |      50      |          |           |        | 图书作者 |
| book_content | longtext | $2^{31} - 1$ |          |           |        | 图书内容 |
|  book_cost   |   int    |      1       |          |           |        | 会员可读 |
|   book_img   | varchar  |     100      |    是    |           |        | 图书封面 |
|  book_name   |   char   |      50      |          |           |        | 图书名称 |
|  book_page   |   int    |     255      |          |           |        | 图书页码 |



## 阅读信息表 TB_Read

两个外键作联合主键

==删除【阅读进度】字段，通过当前页码除以总页码自行计算==

|  字段名   |   类型   | 长度 | 是否为空 | 主键/外键 | 默认值 | 字段含义 |
| :-------: | :------: | :--: | :------: | :-------: | :----: | :------: |
|  book_id  |   int    |  6   |          |   外键    |        | 图书编号 |
| read_page |   int    | 255  |          |           |        | 当前页码 |
| read_time | datetime |  6   |          |           |        | 阅读时间 |
|  user_id  |   int    |  8   |          |   外键    |        | 用户编号 |



## 意见反馈信息表 TB_Opinion

- ==添加【意见编号】字段==

|   字段名   |   类型   | 长度 | 是否为空 | 主键/外键 | 默认值 | 字段含义 |
| :--------: | :------: | :--: | :------: | :-------: | :----: | :------: |
|   op_id    |   char   |  8   |          |   主键    |        | 意见编号 |
|  user_id   |   int    |  8   |          |   外键    |        | 用户编号 |
|  op_type   |   int    |  1   |          |           |        | 反馈类型 |
| op_submit  | datetime |  6   |          |           |        | 提交时间 |
| op_content | varchar  | 1000 |          |           |        | 意见内容 |



## 系统信息表 TB_System

|     字段名      |  类型   | 长度 | 是否为空 | 主键/外键 | 默认值 |  字段含义  |
| :-------------: | :-----: | :--: | :------: | :-------: | :----: | :--------: |
| system_version  |  char   |  21  |          |   主键    |        | 系统版本号 |
| system_protocal |  char   |  20  |          |           |        |  协议代号  |
|   system_pweb   | varchar | 100  |          |           |        |  协议网址  |

